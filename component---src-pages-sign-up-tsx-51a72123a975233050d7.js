"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7374],{303:function(e,t,a){a.d(t,{k:function(){return c}});var n=a(6540),l=a(5268),r=a(3),o=a(6898),s=a(599),i=a(6634);t.A=e=>{let{route:t}=e;const{0:a,1:u}=(0,n.useState)({email:"",password:"",remember:!1}),{0:m,1:d}=(0,n.useState)("");(0,n.useEffect)(()=>{o.ND.auth.getSession().then(e=>{var t,a,n;let{data:l}=e;const r=null===(t=l.session)||void 0===t||null===(a=t.user)||void 0===a||null===(n=a.user_metadata)||void 0===n?void 0:n.role;l.session&&f(r)})},[]);const f=e=>{var a,n;return e&&null!=t&&null!==(a=t[e])&&void 0!==a&&a.onTrue?(0,l.navigate)(t[e].onTrue):e&&null!=t&&null!==(n=t[e])&&void 0!==n&&n.onFalse?(0,l.navigate)(t[e].onFalse):void(0,l.navigate)("/event/aid/checkout")},g=async()=>{var e,t,a;const{data:n}=await o.ND.auth.getSession();(0,i.Uf)();const l=null===(e=n.session)||void 0===e||null===(t=e.user)||void 0===t||null===(a=t.user_metadata)||void 0===a?void 0:a.role;d("Login successful"),setTimeout(()=>f(l),900)},p=e=>{d(e||"Invalid credentials")},y=e=>{const{name:t,value:a,type:n,checked:l}=e.target;u(e=>({...e,[t]:"checkbox"===n?l:a}))},v=c;return n.createElement("div",{style:v.page},n.createElement("div",{style:v.card},n.createElement("div",{style:v.header},n.createElement("h1",{style:v.logo},"AID"),n.createElement("p",{style:v.tagline},"A.I. Director")),n.createElement("form",{onSubmit:e=>{e.preventDefault(),(0,i.ID)(),Object.keys(localStorage).forEach(e=>{e.startsWith("sb-")&&localStorage.removeItem(e)}),(0,s.mg)({email:a.email,password:a.password,onSuccess:g,onFail:p})},style:v.form},n.createElement("div",{style:v.field},n.createElement("label",{style:v.label},"Email"),n.createElement("input",{style:v.input,type:"email",name:"email",value:a.email,onChange:y,required:!0})),n.createElement("div",{style:v.field},n.createElement("label",{style:v.label},"Password"),n.createElement("input",{style:v.input,type:"password",name:"password",value:a.password,onChange:y,required:!0})),n.createElement("div",{style:v.row},n.createElement("label",{style:v.checkbox},n.createElement("input",{type:"checkbox",name:"remember",checked:a.remember,onChange:y}),"Remember me"),n.createElement("a",{href:"/reset-password",style:v.link},"Forgot?")),n.createElement("button",{type:"submit",style:v.button},"Sign In ",n.createElement(r.dyV,null)),m&&n.createElement("div",{style:v.message},m)),n.createElement("div",{style:v.footer},"Donâ€™t have an account? ",n.createElement("a",{href:"/sign-up",style:v.link},"Create one"))))};const c={page:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#ffffff",color:"black",fontFamily:"-apple-system, BlinkMacSystemFont, SF Pro Text, Helvetica Neue, Arial"},card:{width:380,padding:"2.5rem",borderRadius:16,border:"1px solid #e5e5e7",background:"#fff"},header:{marginBottom:"2rem",textAlign:"center"},logo:{margin:0,fontSize:"1.8rem",fontWeight:600},tagline:{marginTop:6,fontSize:"0.9rem",color:"#000"},form:{display:"flex",flexDirection:"column",gap:"1.2rem"},field:{display:"flex",flexDirection:"column"},label:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:600,marginBottom:6,letterSpacing:"0.05em",color:"black"},input:{padding:"0.7rem",borderRadius:8,border:"1px solid #d2d2d7",fontSize:"0.9rem"},row:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.85rem"},checkbox:{display:"flex",alignItems:"center",gap:6},button:{marginTop:"1rem",padding:"0.8rem",borderRadius:10,border:"none",background:"#000",color:"#fff",fontSize:"0.95rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},link:{color:"#000",textDecoration:"none"},footer:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.85rem",color:"#000"},message:{marginTop:10,textAlign:"center",fontSize:"0.85rem"}}},599:function(e,t,a){a.d(t,{T4:function(){return i},mg:function(){return s},tp:function(){return c},vM:function(){return o},vx:function(){return r}});var n=a(6634),l=a(6898);const r=async function(e){let{onSuccess:t,onFail:a}=void 0===e?{}:e;console.log("ðŸ” Logging outâ€¦"),(0,n.nR)();const{error:r}=await l.ND.auth.signOut();if(r)return console.error("âŒ Logout error:",r),null==a?void 0:a(r.message);(0,n.nR)(),localStorage.removeItem("__thv_valid_supabase_keys__"),null==t||t()},o=async e=>{let{email:t,password:a,fullName:n,onSuccess:r,onFail:o}=e;const{data:s,error:i}=await l.ND.auth.signUp({email:t,password:a,options:{data:{full_name:n||"unknown",signup_source:"thv-web"}}});i?null==o||o(i.message):null==r||r()},s=async e=>{let{email:t,password:a,onSuccess:n,onFail:r}=e;const{data:o,error:s}=await l.ND.auth.signInWithPassword({email:t,password:a});s?null==r||r(s.message):null==n||n()},i=async e=>{let{email:t,onSuccess:a,onFail:n}=e;const{data:r,error:o}=await l.ND.auth.resetPasswordForEmail(t);o?null==n||n(o.message):null==a||a()},c=async e=>{let{newPassword:t,onSuccess:a,onFail:n}=e;const{data:r,error:o}=await l.ND.auth.updateUser({password:t});o?null==n||n(o.message):null==a||a()}},6634:function(e,t,a){function n(){return Object.keys(localStorage).filter(e=>e.startsWith("sb-")&&e.includes("-auth-token"))}function l(){const e=n();if(0===e.length)return;const t={};e.forEach(e=>t[e]=localStorage.getItem(e)||""),localStorage.setItem("__thv_valid_supabase_keys__",JSON.stringify(t))}function r(){const e=localStorage.getItem("__thv_valid_supabase_keys__");if(!e)return;const t=JSON.parse(e);Object.keys(t).forEach(e=>{localStorage.getItem(e)||(console.log("ðŸ›  Restoring missing Supabase key:",e),localStorage.setItem(e,t[e]))})}function o(){const e=JSON.parse(localStorage.getItem("__thv_valid_supabase_keys__")||"{}");n().forEach(t=>{e[t]||(console.log("ðŸ§¨ Removing stale Supabase key:",t),localStorage.removeItem(t))})}a.d(t,{ID:function(){return r},Uf:function(){return l},nR:function(){return o}})},7343:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var n=a(6540),l=a(5268),r=a(599),o=a(303);const s={begin:"Create Your Account",sub:"Join the platform",fullName:"Full Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",passwordHint:"At least 8 characters",terms1:"I agree to the ",tos:"Terms",and:" and ",privacy:"Privacy Policy",submit:"Create Account",have:"Already have an account? ",login:"Sign In"};var i=()=>{const{0:e,1:t}=(0,n.useState)({fullName:"",email:"",password:"",confirmPassword:"",agree:!1}),{0:a,1:i}=(0,n.useState)(""),{0:c,1:u}=(0,n.useState)(!1),m=s,d=e=>{const{name:a,value:n,type:l,checked:r}=e.target;t(e=>({...e,[a]:"checkbox"===l?r:n}))},f=async()=>{i("Check your email for verification"),(0,l.navigate)("/check-email")},g=e=>{i(e||"Signup failed")},p=o.k;return n.createElement("div",{style:p.page},n.createElement("div",{style:p.card},n.createElement("div",{style:p.header},n.createElement("h1",{style:p.logo},"AID"),n.createElement("p",{style:p.tagline},"Create Account")),n.createElement("form",{onSubmit:t=>{t.preventDefault(),c||(u(!0),(0,r.vM)({email:e.email,password:e.password,fullName:e.fullName,onSuccess:f,onFail:g}))},style:p.form},n.createElement("div",{style:p.field},n.createElement("label",{style:p.label},m.fullName),n.createElement("input",{style:p.input,name:"fullName",value:e.fullName,onChange:d,required:!0})),n.createElement("div",{style:p.field},n.createElement("label",{style:p.label},m.email),n.createElement("input",{style:p.input,type:"email",name:"email",value:e.email,onChange:d,required:!0})),n.createElement("div",{style:p.field},n.createElement("label",{style:p.label},m.password),n.createElement("input",{style:p.input,type:"password",name:"password",value:e.password,onChange:d,required:!0})),n.createElement("div",{style:p.field},n.createElement("label",{style:p.label},m.confirmPassword),n.createElement("input",{style:p.input,type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:d,required:!0}))),n.createElement("div",{style:p.footer},m.have,n.createElement("a",{href:"/sign-in",style:p.link},m.login))))};var c=()=>n.createElement("main",null,n.createElement(i,null))}}]);
//# sourceMappingURL=component---src-pages-sign-up-tsx-51a72123a975233050d7.js.map