{"version":3,"file":"component---src-pages-test-sheets-tsx-8c9c9f86da71d1b39dcd.js","mappings":"mJAMA,MAAMA,EACJ,qHACIC,EAAW,uBA4CjBC,eAAeC,EAAaC,GAC1B,MAAMC,EAAQ,IAAIC,gBAAgB,CAChCC,SAAUN,KACPO,OAAOC,YAAYD,OAAOE,QAAQN,GAAQO,IAAIC,IAAA,IAAEC,EAAGC,GAAE,QAAK,CAACD,EAAGE,OAAOD,SAEpEE,QAAYC,MAAM,GAAGjB,KAAYK,EAAMa,cAC7C,IAAKF,EAAIG,GAAI,MAAM,IAAIC,MAAM,QAAQJ,EAAIK,YAAYL,EAAIM,cACzD,aAAcN,EAAIO,MACpB,CAUArB,eAAesB,EAAUC,GACvB,MAAMrB,EAAiC,CAAEsB,KAAM,SAE/C,OADID,IAAWrB,EAAOqB,UAAYA,SACrBtB,EAAyBC,EACxC,CAEAF,eAAeyB,EAAUC,EAAuBC,GAC9C,YADsE,IAAxBA,IAAAA,EAA2B,YAC5D1B,EAA0B,CACrCuB,KAAM,SACN,CAACG,GAAOD,GAEZ,CAwBe,SAASE,IACtB,MAAMC,EAAS7B,MAAO8B,EAAwBC,KAC5CC,QAAQC,IAAI,eAAeF,KAC3B,IACE,MAAMG,QAAeJ,IACrBE,QAAQC,IAAI,KAAKF,YAAiBG,EACpC,CAAE,MAAOC,GACPH,QAAQI,MAAM,KAAKL,YAAiBI,EACtC,GAGF,OACEE,EAAAA,cAAAA,MAAAA,CACEC,MAAO,CACLC,MAAO,QACPC,OAAQ,QACRC,gBAAiB,QACjBC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBC,IAAK,SAGPT,EAAAA,cAAAA,KAAAA,KAAI,mCAEJA,EAAAA,cAAAA,SAAAA,CAAQU,QAASA,IAAMlB,EAAO,IAjEpC7B,eAA2BuB,GACzB,aAAatB,EAA2B,CAAEsB,aAC5C,CA+D0CyB,CAAY,sBAAuB,gBAAgB,oBAIvFX,EAAAA,cAAAA,SAAAA,CAAQU,QAASA,IAAMlB,EAAO,IAAMP,IAAa,sBAAsB,yBAIvEe,EAAAA,cAAAA,SAAAA,CAAQU,QAASA,IAAMlB,EAAO,IAAMP,EAAU,sBAAuB,gCAAgC,mCAIrGe,EAAAA,cAAAA,SAAAA,CAAQU,QAASA,IAAMlB,EAAO,IA5DpC7B,eAA0BiD,GACxB,aAAaxB,EAAUwB,EAAI,KAC7B,CA0D0CC,CAAW,cAAe,eAAe,mBAI7Eb,EAAAA,cAAAA,SAAAA,CAAQU,QAASA,IAAMlB,EAAO,IA5DpC7B,eAAiCuB,GAC/B,aAAaE,EAAUF,EAAW,YACpC,CA0D0C4B,CAAkB,uBAAwB,sBAAsB,0BAIpGd,EAAAA,cAAAA,SAAAA,CAAQU,QAASA,IAAMlB,EAAO,IA5DpC7B,eAAgCoD,GAAkG,aAApC,IAA9DA,IAAAA,EAAiE,CAAC,GAChG,MAAMlD,EAA0C,CAC9CsB,KAAM,aACN6B,KAAkB,QAAd,EAAED,EAAQC,YAAI,QAAI,EACtBC,MAAoB,QAAf,EAAEF,EAAQE,aAAK,QAAI,IAG1B,OADIF,EAAQ7B,YAAWrB,EAAOqB,UAAY6B,EAAQ7B,iBACrCtB,EAA8BC,EAC7C,CAoD0CqD,CAAiB,CAAEF,KAAM,EAAGC,MAAO,KAAO,8BAA8B,0BAKlH,C","sources":["webpack:///./src/pages/test/sheets.tsx"],"sourcesContent":["import React from \"react\";\n\n/* ============================================================\n üß† GOOGLE SHEETS API ‚Äî TypeScript SDK (Full Version)\n ============================================================ */\n\nconst BASE_URL =\n  \"https://script.google.com/macros/s/AKfycbzdWXbM8Q_hBnKnk5LXj20A2CLmxBxI0uro5eNl2Yo7i9ShHrTBIJQy6Scz7Wu5g-xu8A/exec\";\nconst PASSWORD = \"hT_W8.pN-kQv7rZ~sD1y\";\n\nexport interface SheetRow {\n  [key: string]: string;\n}\n\nexport interface PaginationResponse {\n  mode: \"pagination\";\n  page: number;\n  limit: number;\n  totalPages: number;\n  totalCount: number;\n  hasNext: boolean;\n  hasPrev: boolean;\n  next: string | null;\n  prev: string | null;\n  rows: SheetRow[];\n}\n\nexport interface CountResponse {\n  mode: \"count\";\n  totalCount?: number;\n  afterCount?: number;\n  note?: string;\n}\n\nexport interface DeleteResponse {\n  mode: \"delete\";\n  status: \"deleted\" | \"not_found\";\n  row?: number;\n  deleted?: SheetRow;\n}\n\nexport type DefaultResponse = SheetRow[];\nexport type ApiResponse =\n  | PaginationResponse\n  | CountResponse\n  | DeleteResponse\n  | DefaultResponse;\n\n/* ============================================================\n   Internal helper\n   ============================================================ */\n\nasync function fetchJson<T>(params: Record<string, string | number>): Promise<T> {\n  const query = new URLSearchParams({\n    password: PASSWORD,\n    ...Object.fromEntries(Object.entries(params).map(([k, v]) => [k, String(v)])),\n  });\n  const res = await fetch(`${BASE_URL}?${query.toString()}`);\n  if (!res.ok) throw new Error(`HTTP ${res.status} - ${res.statusText}`);\n  return (await res.json()) as T;\n}\n\n/* ============================================================\n   API Functions\n   ============================================================ */\n\nasync function getNextRows(timestamp: string): Promise<DefaultResponse> {\n  return await fetchJson<DefaultResponse>({ timestamp });\n}\n\nasync function countRows(timestamp?: string): Promise<CountResponse> {\n  const params: Record<string, string> = { mode: \"count\" };\n  if (timestamp) params.timestamp = timestamp;\n  return await fetchJson<CountResponse>(params);\n}\n\nasync function deleteRow(idOrTimestamp: string, type: \"id\" | \"timestamp\" = \"id\"): Promise<DeleteResponse> {\n  return await fetchJson<DeleteResponse>({\n    mode: \"delete\",\n    [type]: idOrTimestamp,\n  });\n}\n\nasync function deleteById(id: string): Promise<DeleteResponse> {\n  return await deleteRow(id, \"id\");\n}\n\nasync function deleteByTimestamp(timestamp: string): Promise<DeleteResponse> {\n  return await deleteRow(timestamp, \"timestamp\");\n}\n\nasync function getPaginatedRows(options: { page?: number; limit?: number; timestamp?: string } = {}): Promise<PaginationResponse> {\n  const params: Record<string, string | number> = {\n    mode: \"pagination\",\n    page: options.page ?? 1,\n    limit: options.limit ?? 10,\n  };\n  if (options.timestamp) params.timestamp = options.timestamp;\n  return await fetchJson<PaginationResponse>(params);\n}\n\n/* ============================================================\n   Test Component\n   ============================================================ */\n\nexport default function GoogleSheetTest() {\n  const handle = async (fn: () => Promise<any>, label: string) => {\n    console.log(`üß† Running: ${label}`);\n    try {\n      const result = await fn();\n      console.log(`‚úÖ ${label} result:`, result);\n    } catch (err) {\n      console.error(`‚ùå ${label} failed:`, err);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        backgroundColor: \"white\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        gap: \"10px\",\n      }}\n    >\n      <h2>üß† Google Sheets API Test Panel</h2>\n\n      <button onClick={() => handle(() => getNextRows(\"11/9/2025 17:31:42\"), \"getNextRows\")}>\n        üîπ Get Next Rows\n      </button>\n\n      <button onClick={() => handle(() => countRows(), \"countRows (total)\")}>\n        üîπ Count Rows (Total)\n      </button>\n\n      <button onClick={() => handle(() => countRows(\"11/9/2025 17:31:42\"), \"countRows (after timestamp)\")}>\n        üîπ Count Rows (After Timestamp)\n      </button>\n\n      <button onClick={() => handle(() => deleteById(\"6614055272\"), \"deleteById\")}>\n        üîπ Delete by ID\n      </button>\n\n      <button onClick={() => handle(() => deleteByTimestamp(\"11/10/2025 03:04:44\"), \"deleteByTimestamp\")}>\n        üîπ Delete by Timestamp\n      </button>\n\n      <button onClick={() => handle(() => getPaginatedRows({ page: 1, limit: 10 }), \"getPaginatedRows (page 1)\")}>\n        üîπ Pagination (Page 1)\n      </button>\n    </div>\n  );\n}\n"],"names":["BASE_URL","PASSWORD","async","fetchJson","params","query","URLSearchParams","password","Object","fromEntries","entries","map","_ref","k","v","String","res","fetch","toString","ok","Error","status","statusText","json","countRows","timestamp","mode","deleteRow","idOrTimestamp","type","GoogleSheetTest","handle","fn","label","console","log","result","err","error","React","style","width","height","backgroundColor","display","flexDirection","alignItems","justifyContent","gap","onClick","getNextRows","id","deleteById","deleteByTimestamp","options","page","limit","getPaginatedRows"],"sourceRoot":""}